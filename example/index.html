<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Submit form</h1>
    <div>
      <input type="text" id="name" placeholder="Name" />
      <input type="text" id="phone" placeholder="Phone Number" />
      <button id="submit">Submit</button>
    </div>
  </body>
  <script>
    const submitData = () => {
      const name = document.getElementById("name").value;
      const phone = document.getElementById("phone").value;
      try {
        const apiResult = fetch("http://127.0.0.1:6969/example", {
          method: "POST",
          mode: "cors",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            name,
            moreInfo: {
              phone
            }
          })
        })
          .then(data => data.json())
          .then(data =>
            data.status === "success" ? alert("success") : alert("failure")
          )
          .catch(e => alert("failure"));
      } catch (error) {
        alert(error);
      }
    };

    const submitBtn = document.getElementById("submit");
    submitBtn.addEventListener("click", () => submitData());
  </script>
</html>
